{"version":3,"file":"js/386.fab4169d.js","mappings":"wLAGaA,MAAM,gB,GACPC,EAAAA,EAAAA,GAAqC,KAAlCD,MAAM,cAAa,eAAW,G,GAC5BA,MAAM,gB,GACNA,MAAM,e,GAWNA,MAAM,e,GAWfC,EAAAA,EAAAA,GAYM,OAZDD,MAAM,eAAa,EACpBC,EAAAA,EAAAA,GAQM,aAPNA,EAAAA,EAAAA,GAMS,UALLD,MAAM,2CACNE,KAAK,UAER,eAED,G,GAOLF,MAAM,U,mHAzCTC,EAAAA,EAAAA,GAwCO,QAxCDD,MAAM,iBAAkBG,SAAMC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAA,IAAAC,IAAUC,EAAAC,eAAAD,EAAAC,iBAAAF,IAAa,e,EACvDL,EAAAA,EAAAA,GAsCE,MAtCFQ,EAsCE,CArCEC,GACAT,EAAAA,EAAAA,GAsBE,MAtBFU,EAsBE,EArBFV,EAAAA,EAAAA,GAUM,MAVNW,EAUM,WATNX,EAAAA,EAAAA,GAOC,SANGY,GAAG,QACHX,KAAK,OACLF,MAAM,WACNc,YAAY,Q,qCACEC,EAAAC,MAAKC,I,iBAALF,EAAAC,WAAK,G,MAAnB,SAKJf,EAAAA,EAAAA,GASM,MATNiB,EASM,WARNjB,EAAAA,EAAAA,GAOC,SANGY,GAAG,WACHX,KAAK,WACLF,MAAM,WACNc,YAAY,S,qCACEC,EAAAI,SAAQF,I,iBAARF,EAAAI,cAAQ,G,MAAtB,UAKRC,KAYM,KAGVnB,EAAAA,EAAAA,GAQY,IARZoB,EAQY,UARM,oBAEVC,EAAAA,EAAAA,IAKcC,EAAA,CALDC,GAAG,gBAChBC,OAAA,I,mBAGA,EAFSC,OAAMC,cAAQ,EAEvB1B,EAAAA,EAAAA,GAA6E,KAA1ED,MAAM,eAAgB0B,KAAMA,EAAOE,QAAOD,GAAU,qBAAkB,EAAAE,M,4CC9CxEC,eAAgBC,IACrB,IACE,MAAMC,QAAiBC,EAAAA,EAAAA,IAAU,8BAA+B,CAACC,QAAS,CACxEC,cAAe,wcAEXC,EAAWJ,EAASK,KAC1B,OAAOD,CACT,CAAE,MAAOE,GAAS,CAAC,C,YDmDvB,GACIC,KAAM,YAENF,KAAMA,KAAA,CACFrB,MAAO,GACPG,SAAU,GACVqB,MAAO,GACPJ,SAAU,GACVK,SAAU,KAIdC,QAAS,KACFC,EAAAA,EAAAA,IAAa,CAAC,cAEjBb,sBAEI,MAAMc,EAAW,CACb5B,MAAO6B,KAAK7B,MACZG,SAAU0B,KAAK1B,UAGT2B,EAAS,CACXZ,QAAS,CACL,eAAgB,2BAIfD,EAAAA,EAAAA,KAAW,mCAAoCW,EAAUE,GAC7DC,MAAKf,IACFa,KAAKL,MAAQR,EAASK,KAAKG,MAC3BQ,EAAAA,EAAAA,IAAY,QAASH,KAAKL,MAAO,CAAES,QAAS,IAC5CC,QAAQC,IAAInB,EAASK,MACrBQ,KAAKO,QAAQC,KAAK,YAAY,IAGjCC,OAAMhB,IACHY,QAAQC,IAAIb,EAAM,IAEtBP,IAAcgB,MAAKV,IACnBQ,KAAKJ,SAAWJ,CAAG,IAChBiB,OAAMhB,IACTY,QAAQZ,MAAMA,EAAM,GAKhC,I,QErGZ,MAAMiB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://okdeal/./src/views/LoginView.vue","webpack://okdeal/./src/store/userInfo.js","webpack://okdeal/./src/views/LoginView.vue?5755"],"sourcesContent":["/* eslint-disable */\n<template>\n    <form class=\"card auth-card\" @submit.prevent=\"submitHandler\">\n        <div class=\"card-content\">\n            <p class=\"card-title\">Авторизация</p>\n            <div class=\"content-form\">\n            <div class=\"input-field\">\n            <input\n                id=\"email\"\n                type=\"text\"\n                class=\"validate\"\n                placeholder=\"Email\"\n                v-model.trim=\"email\"\n           \n            >\n            \n            </div>\n            <div class=\"input-field\">\n            <input\n                id=\"password\"\n                type=\"password\"\n                class=\"validate\"\n                placeholder=\"Пароль\"\n                v-model.trim=\"password\"\n\n            >\n            </div>\n        </div>\n        <div class=\"card-action\">\n            <div>\n            <button\n                class=\"btn waves-effect waves-light auth-submit\"\n                type=\"submit\"\n                \n            >\n                Войти\n            </button>\n            </div>\n\n            \n        </div>\n    </div>\n    </form>\n    <p class=\"center\">\n            Нет аккаунта?\n            <router-link to=\"/RegisterView\"\n            custom\n            v-slot=\"{href, navigate}\"\n            >\n            <a class=\"hide_sign-up\" :href=\"href\" @click=\"navigate\">Зарегистрироваться</a>\n            </router-link>\n            </p>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Cookies from 'js-cookie'\nimport {getUserInfo} from '../store/userInfo.js'\nimport { mapMutations } from 'vuex'\n\n\n    export default{\n        name: 'LoginView',\n        \n        data: ()=> ({\n            email: '',\n            password: '',\n            token: '',\n            userInfo: '',\n            username: ''\n\n        }),\n\n        methods: {\n            ...mapMutations(['loginTrue']),\n\n            async submitHandler() {\n                \n                const formData = {\n                    email: this.email,\n                    password: this.password\n                }\n\n                    const config = {\n                        headers: {\n                            'Content-Type': 'application/json',\n                        },\n                        };\n\n                       await axios.post('http://localhost:5050/auth/login', formData, config)\n                        .then(response => {\n                            this.token = response.data.token\n                            Cookies.set('token', this.token, { expires: 7 })\n                            console.log(response.data)\n                            this.$router.push('/HomeView')\n  \n                        })\n                        .catch(error => {\n                            console.log(error);\n                        });\n                        getUserInfo().then(data => {\n                        this.username = data\n                        }).catch(error => {\n                        console.error(error);\n                        });\n                        \n                        \n                        \n            },\n            \n        },\n        \n\n    }\n</script>\n\n<style>\nbody{\n    margin: 0;\n    padding: 0;\n    font-family: 'Open Sans', sans-serif;\n    background-color: #f3f3f3;\n}\n\n.card{\n    margin: 100px auto 0 auto;\n    height: 350px;\n    width: 400px;\n    background-color: #2a2a2a;\n    padding: 50px;\n    border-radius: 20px;\n    box-shadow: 0 0 5px #151515;\n    box-shadow: 0 0 5px #151515;\n    \n}\n.card-title{\n    \n    text-align: center;\n    font-size: 1.6em;\n    padding-bottom: 40px;\n    color: #f3f3f3;\n}\n.input-field{\n    padding-bottom: 40px;\n\n}\n.validate{\n    background-color: #f3f3f3;\n    height: 50px;\n    width: 100%;\n    border: 2px solid #f3f3f3;\n    border-radius: 20px;\n    text-align: center;\n    font-size: 16px;\n\n}\n.btn{\n    font-size: 16px;\n    font-weight: bold;\n    color: white;\n    border: none;\n    border-radius: 20px;\n    background-color: #3b80b8;\n    height: 50px;\n    width: 100%;\n}\n.btn:hover{\n    background-color: rgb(229, 107, 94)\n}\n.center{\n    text-align: center;\n    margin-top: 20px;\n\n}\n.hide_sign-up{\n    font-size: 16px;\n    color: #3b80b8;\n}\n.hide_sign-up:hover{\n    color: rgb(229, 107, 94)\n\n}\n</style>","import axios from 'axios';\n\n\n      export async function  getUserInfo() {\n        try {\n          const response = await axios.get('http://localhost:5050/users', {headers: {\n            Authorization: \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6IkRvbGloX0xLQHlhbmRleC5jb20iLCJpZCI6NSwicm9sZXMiOlt7ImlkIjoyLCJ2YWx1ZSI6IkFETUlOIiwiZGVzY3JpcHRpb24iOiLQkNC00LzQuNC90LjRgdGC0YDQsNGC0L7RgCIsImNyZWF0ZWRBdCI6IjIwMjMtMDQtMjFUMTg6NTk6MzguNDI4WiIsInVwZGF0ZWRBdCI6IjIwMjMtMDQtMjFUMTg6NTk6MzguNDI4WiIsIlVzZXJSb2xlcyI6eyJpZCI6Mywicm9sZUlkIjoyLCJ1c2VySWQiOjV9fV0sImlhdCI6MTY4MjIxMDgxMywiZXhwIjoxNjgyMjk3MjEzfQ.fbiCfUMgDKKkRMRmIwugy_NTTOH0JyAIlGHL2EJUCW0\"\n        }});\n          const userInfo = response.data;\n          return userInfo\n        } catch (error) { }}\n","import { render } from \"./LoginView.vue?vue&type=template&id=04802559\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=04802559&lang=css\"\n\nimport exportComponent from \"/Users/LyamovOK/sfd/client/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","type","onSubmit","_cache","_withModifiers","args","$options","submitHandler","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","id","placeholder","_ctx","email","$event","_hoisted_5","password","_hoisted_6","_hoisted_7","_createVNode","_component_router_link","to","custom","href","navigate","onClick","_hoisted_8","async","getUserInfo","response","axios","headers","Authorization","userInfo","data","error","name","token","username","methods","mapMutations","formData","this","config","then","Cookies","expires","console","log","$router","push","catch","__exports__","render"],"sourceRoot":""}